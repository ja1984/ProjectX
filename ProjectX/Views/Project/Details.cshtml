@model ProjectX.Model.Entities.Project
@{
    ViewBag.Title = "View";
}
<div class="span8 left">
    <h2>@Model.Project.Name</h2>
    <!-- start slipsum code -->
    @Html.Raw(Model.Project.Description)
    <!-- please do not remove this line -->
    <div style="display: none;">
        <a href="http://slipsum.com">lorem ipsum</a>
    </div>
    <div class="row-fluid">
        <ul class="thumbnails">
            @foreach (var image in Model.Images)
            {
                <li class="span3"><a href="@image.Name" rel="gallery" class="fancybox thumbnail">
                    <img src="@image.Name" alt="">
                </a></li>
            }
        </ul>
    </div>
</div>
<div class="span4 right">
    <div class="row-fluid">
        <img src="http://placehold.it/281x250" class="img-polaroid">
    </div>
    <div class="row-fluid box">
        <ul class="unstyled">
            <li>by: @Html.ActionLink(@Model.User.DisplayName, "details", "user", new { id = Model.User.Id, userName = ProjectX.Helpers.HelperService.GenerateSlug(Model.User.UserName) }, new { })</li>
            <li>added: @Model.Created</li>
        </ul>
    </div>
    <div class="row-fluid box github">
        <h4>
            On github</h4>
        <div style="text-align: center;">
            <img src="/content/images/octocat-spinner-64.gif" data-bind="visible: commits().length < 1" />
        </div>
        <ul class="" data-bind="foreach: commits">
            <li data-bind="text: message, visible: $index() < 3"></li>
        </ul>
        <p style="text-align: right;" data-bind="visible: commits().length > 3, text: commits().length - 3 + ' more'">
        </p>
    </div>
    <div class="row-fluid box">
        <h4>
            Helpers</h4>
        <ul class="unstyled" style="margin-left: 10px;">
            <li><i class="icon-star"></i><a href="#">Jonathan Andersson</a></li>
            <li><i class="icon-pencil"></i><a href="#">Jonathan Andersson</a></li>
            <li><i class="icon-pencil"></i>Open spot for eveloper</li>
            <li><i class="icon-pencil"></i>Open spot for developer</li>
            <li><i class="icon-picture"></i>Open spot for designer</li>
            <li><i class="icon-picture"></i>Open spot for designer</li>
            <li><i class="icon-eye-open"></i>Open spot for tester</li>
            <li><i class="icon-eye-open"></i>Open spot for tester</li>
        </ul>
        <button class="btn btn-info btn-block btn-large">
            Apply for opening</button>
    </div>
</div>
@section scripts{
    <script src="/Scripts/gitModel.js" type="text/javascript"></script>
    <script type="text/javascript">
        $(function () {
            $(".fancybox").fancybox({
                openEffect: 'none',
                closeEffect: 'none',
            });

            var config = {
                user: 'ja1984',
                repository: '@Model.Project.GitHubName'
            };

            ko.applyBindings(new GitModel().viewModel(config));
        });
    </script>
}
